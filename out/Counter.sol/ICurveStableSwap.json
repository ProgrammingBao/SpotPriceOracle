{"abi":[{"type":"function","name":"get_dy","inputs":[{"name":"i","type":"int128","internalType":"int128"},{"name":"j","type":"int128","internalType":"int128"},{"name":"dx","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"get_dy(int128,int128,uint256)":"5e0d443f"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"int128\",\"name\":\"i\",\"type\":\"int128\"},{\"internalType\":\"int128\",\"name\":\"j\",\"type\":\"int128\"},{\"internalType\":\"uint256\",\"name\":\"dx\",\"type\":\"uint256\"}],\"name\":\"get_dy\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/Counter.sol\":\"ICurveStableSwap\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/Counter.sol\":{\"keccak256\":\"0x269cae532bad8e44727f77735744a7c7f42a4e4425dfad8d374a569800c933a7\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://47c9fdfeb9714f9ee9258f7f13425e83dd52796fe8393a569af87c87b0f167a4\",\"dweb:/ipfs/QmeRCuF9oMYS2B86BmVtnDs4wmTGhbcsvnqD5qZNytCMXe\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"int128","name":"i","type":"int128"},{"internalType":"int128","name":"j","type":"int128"},{"internalType":"uint256","name":"dx","type":"uint256"}],"stateMutability":"view","type":"function","name":"get_dy","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/Counter.sol":"ICurveStableSwap"},"libraries":{}},"sources":{"src/Counter.sol":{"keccak256":"0x269cae532bad8e44727f77735744a7c7f42a4e4425dfad8d374a569800c933a7","urls":["bzz-raw://47c9fdfeb9714f9ee9258f7f13425e83dd52796fe8393a569af87c87b0f167a4","dweb:/ipfs/QmeRCuF9oMYS2B86BmVtnDs4wmTGhbcsvnqD5qZNytCMXe"],"license":"UNLICENSED"}},"version":1},"ast":{"absolutePath":"src/Counter.sol","id":44621,"exportedSymbols":{"CurveSpotPriceOracle":[44620],"ICurveStableSwap":[44587],"ISpotPriceOracle":[44575]},"nodeType":"SourceUnit","src":"39:1189:20","nodes":[{"id":44561,"nodeType":"PragmaDirective","src":"39:24:20","nodes":[],"literals":["solidity","^","0.8",".23"]},{"id":44575,"nodeType":"ContractDefinition","src":"159:517:20","nodes":[{"id":44574,"nodeType":"FunctionDefinition","src":"540:134:20","nodes":[],"documentation":{"id":44563,"nodeType":"StructuredDocumentation","src":"192:343:20","text":" @notice Retrieve the spot price for a token in a specified quote currency utilizing a specific liquidity pool\n @param token The token to get the spot price of\n @param pool The liquidity pool to use for the price retrieval\n @param quoteToken Quote token\n @return price The spot price of the token     "},"functionSelector":"75075ad5","implemented":false,"kind":"function","modifiers":[],"name":"getSpotPrice","nameLocation":"549:12:20","parameters":{"id":44570,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44565,"mutability":"mutable","name":"token","nameLocation":"579:5:20","nodeType":"VariableDeclaration","scope":44574,"src":"571:13:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44564,"name":"address","nodeType":"ElementaryTypeName","src":"571:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44567,"mutability":"mutable","name":"pool","nameLocation":"602:4:20","nodeType":"VariableDeclaration","scope":44574,"src":"594:12:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44566,"name":"address","nodeType":"ElementaryTypeName","src":"594:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44569,"mutability":"mutable","name":"quoteToken","nameLocation":"624:10:20","nodeType":"VariableDeclaration","scope":44574,"src":"616:18:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44568,"name":"address","nodeType":"ElementaryTypeName","src":"616:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"561:79:20"},"returnParameters":{"id":44573,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44572,"mutability":"mutable","name":"price","nameLocation":"667:5:20","nodeType":"VariableDeclaration","scope":44574,"src":"659:13:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44571,"name":"uint256","nodeType":"ElementaryTypeName","src":"659:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"658:15:20"},"scope":44575,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"ISpotPriceOracle","contractDependencies":[],"contractKind":"interface","documentation":{"id":44562,"nodeType":"StructuredDocumentation","src":"66:93:20","text":"@notice An oracle that can provide spot prices for tokens using specific liquidity pools"},"fullyImplemented":false,"linearizedBaseContracts":[44575],"name":"ISpotPriceOracle","nameLocation":"169:16:20","scope":44621,"usedErrors":[],"usedEvents":[]},{"id":44587,"nodeType":"ContractDefinition","src":"677:115:20","nodes":[{"id":44586,"nodeType":"FunctionDefinition","src":"710:80:20","nodes":[],"functionSelector":"5e0d443f","implemented":false,"kind":"function","modifiers":[],"name":"get_dy","nameLocation":"719:6:20","parameters":{"id":44582,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44577,"mutability":"mutable","name":"i","nameLocation":"733:1:20","nodeType":"VariableDeclaration","scope":44586,"src":"726:8:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":44576,"name":"int128","nodeType":"ElementaryTypeName","src":"726:6:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":44579,"mutability":"mutable","name":"j","nameLocation":"743:1:20","nodeType":"VariableDeclaration","scope":44586,"src":"736:8:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":44578,"name":"int128","nodeType":"ElementaryTypeName","src":"736:6:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":44581,"mutability":"mutable","name":"dx","nameLocation":"754:2:20","nodeType":"VariableDeclaration","scope":44586,"src":"746:10:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44580,"name":"uint256","nodeType":"ElementaryTypeName","src":"746:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"725:32:20"},"returnParameters":{"id":44585,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44584,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":44586,"src":"781:7:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44583,"name":"uint256","nodeType":"ElementaryTypeName","src":"781:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"780:9:20"},"scope":44587,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"ICurveStableSwap","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[44587],"name":"ICurveStableSwap","nameLocation":"687:16:20","scope":44621,"usedErrors":[],"usedEvents":[]},{"id":44620,"nodeType":"ContractDefinition","src":"795:432:20","nodes":[{"id":44619,"nodeType":"FunctionDefinition","src":"831:394:20","nodes":[],"body":{"id":44618,"nodeType":"Block","src":"1004:221:20","nodes":[],"statements":[{"assignments":[44602],"declarations":[{"constant":false,"id":44602,"mutability":"mutable","name":"curvePool","nameLocation":"1031:9:20","nodeType":"VariableDeclaration","scope":44618,"src":"1014:26:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ICurveStableSwap_$44587","typeString":"contract ICurveStableSwap"},"typeName":{"id":44601,"nodeType":"UserDefinedTypeName","pathNode":{"id":44600,"name":"ICurveStableSwap","nameLocations":["1014:16:20"],"nodeType":"IdentifierPath","referencedDeclaration":44587,"src":"1014:16:20"},"referencedDeclaration":44587,"src":"1014:16:20","typeDescriptions":{"typeIdentifier":"t_contract$_ICurveStableSwap_$44587","typeString":"contract ICurveStableSwap"}},"visibility":"internal"}],"id":44606,"initialValue":{"arguments":[{"id":44604,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44589,"src":"1060:4:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":44603,"name":"ICurveStableSwap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44587,"src":"1043:16:20","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ICurveStableSwap_$44587_$","typeString":"type(contract ICurveStableSwap)"}},"id":44605,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1043:22:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ICurveStableSwap_$44587","typeString":"contract ICurveStableSwap"}},"nodeType":"VariableDeclarationStatement","src":"1014:51:20"},{"assignments":[44608],"declarations":[{"constant":false,"id":44608,"mutability":"mutable","name":"amountOut","nameLocation":"1125:9:20","nodeType":"VariableDeclaration","scope":44618,"src":"1117:17:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44607,"name":"uint256","nodeType":"ElementaryTypeName","src":"1117:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44615,"initialValue":{"arguments":[{"id":44611,"name":"tokenIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44591,"src":"1154:10:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},{"id":44612,"name":"quoteTokenIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44593,"src":"1166:15:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},{"id":44613,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44595,"src":"1183:8:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"},{"typeIdentifier":"t_int128","typeString":"int128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":44609,"name":"curvePool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44602,"src":"1137:9:20","typeDescriptions":{"typeIdentifier":"t_contract$_ICurveStableSwap_$44587","typeString":"contract ICurveStableSwap"}},"id":44610,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1147:6:20","memberName":"get_dy","nodeType":"MemberAccess","referencedDeclaration":44586,"src":"1137:16:20","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_int128_$_t_int128_$_t_uint256_$returns$_t_uint256_$","typeString":"function (int128,int128,uint256) view external returns (uint256)"}},"id":44614,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1137:55:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1117:75:20"},{"expression":{"id":44616,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44608,"src":"1209:9:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":44599,"id":44617,"nodeType":"Return","src":"1202:16:20"}]},"functionSelector":"3f3f79f2","implemented":true,"kind":"function","modifiers":[],"name":"getSpotPrice","nameLocation":"840:12:20","parameters":{"id":44596,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44589,"mutability":"mutable","name":"pool","nameLocation":"870:4:20","nodeType":"VariableDeclaration","scope":44619,"src":"862:12:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44588,"name":"address","nodeType":"ElementaryTypeName","src":"862:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44591,"mutability":"mutable","name":"tokenIndex","nameLocation":"891:10:20","nodeType":"VariableDeclaration","scope":44619,"src":"884:17:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":44590,"name":"int128","nodeType":"ElementaryTypeName","src":"884:6:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":44593,"mutability":"mutable","name":"quoteTokenIndex","nameLocation":"918:15:20","nodeType":"VariableDeclaration","scope":44619,"src":"911:22:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":44592,"name":"int128","nodeType":"ElementaryTypeName","src":"911:6:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":44595,"mutability":"mutable","name":"amountIn","nameLocation":"951:8:20","nodeType":"VariableDeclaration","scope":44619,"src":"943:16:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44594,"name":"uint256","nodeType":"ElementaryTypeName","src":"943:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"852:113:20"},"returnParameters":{"id":44599,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44598,"mutability":"mutable","name":"price","nameLocation":"997:5:20","nodeType":"VariableDeclaration","scope":44619,"src":"989:13:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44597,"name":"uint256","nodeType":"ElementaryTypeName","src":"989:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"988:15:20"},"scope":44620,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"CurveSpotPriceOracle","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[44620],"name":"CurveSpotPriceOracle","nameLocation":"804:20:20","scope":44621,"usedErrors":[],"usedEvents":[]}],"license":"UNLICENSED"},"id":20}