{"abi":[{"type":"constructor","inputs":[{"name":"_metaRegistryAddress","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"getSpotPrice","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"quoteToken","type":"address","internalType":"address"},{"name":"lpToken","type":"address","internalType":"address"}],"outputs":[{"name":"price","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"metaRegistry","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IMetaRegistry"}],"stateMutability":"view"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b506040516104fa3803806104fa83398101604081905261002f91610054565b600080546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b610467806100936000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c806344693a4b1461003b57806375075ad51461006b575b600080fd5b60005461004e906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61007e6100793660046103a9565b61008c565b604051908152602001610062565b6000805460405163bdf475c360e01b81526001600160a01b0384811660048301528392169063bdf475c390602401602060405180830381865afa1580156100d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100fb91906103f4565b90506001600160a01b0381166101585760405162461bcd60e51b815260206004820152601b60248201527f506f6f6c206e6f7420666f756e6420666f72204c5020746f6b656e000000000060448201526064015b60405180910390fd5b60006101648287610263565b905060006101728387610263565b905081600f0b6000191415801561018e575080600f0b60001914155b6101d25760405162461bcd60e51b8152602060048201526015602482015274151bdad95b881a5b99195e081b9bdd08199bdd5b99605a1b604482015260640161014f565b604051635e0d443f60e01b8152600f83810b600483015282900b6024820152670de0b6b3a764000060448201819052906001600160a01b03851690635e0d443f90606401602060405180830381865afa158015610233573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102579190610418565b98975050505050505050565b6000808390506000816001600160a01b031663ed52976a6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102cd9190610418565b905060005b816001600160801b0316816001600160801b031610156103825760405163c661065760e01b81526001600160801b03821660048201526001600160a01b03808716919085169063c661065790602401602060405180830381865afa15801561033e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061036291906103f4565b6001600160a01b03160361037a57925061038b915050565b6001016102d2565b50600019925050505b92915050565b6001600160a01b03811681146103a657600080fd5b50565b6000806000606084860312156103be57600080fd5b83356103c981610391565b925060208401356103d981610391565b915060408401356103e981610391565b809150509250925092565b60006020828403121561040657600080fd5b815161041181610391565b9392505050565b60006020828403121561042a57600080fd5b505191905056fea26469706673582212200b703e80797e52ad9b584b6b1395e4404ae467c5d8178afe9f9adfb992072fd764736f6c63430008170033","sourceMap":"407:1195:20:-:0;;;483:109;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;535:12;:50;;-1:-1:-1;;;;;;535:50:20;-1:-1:-1;;;;;535:50:20;;;;;;;;;;407:1195;;14:290:22;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:22;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:22:o;:::-;407:1195:20;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100365760003560e01c806344693a4b1461003b57806375075ad51461006b575b600080fd5b60005461004e906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61007e6100793660046103a9565b61008c565b604051908152602001610062565b6000805460405163bdf475c360e01b81526001600160a01b0384811660048301528392169063bdf475c390602401602060405180830381865afa1580156100d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100fb91906103f4565b90506001600160a01b0381166101585760405162461bcd60e51b815260206004820152601b60248201527f506f6f6c206e6f7420666f756e6420666f72204c5020746f6b656e000000000060448201526064015b60405180910390fd5b60006101648287610263565b905060006101728387610263565b905081600f0b6000191415801561018e575080600f0b60001914155b6101d25760405162461bcd60e51b8152602060048201526015602482015274151bdad95b881a5b99195e081b9bdd08199bdd5b99605a1b604482015260640161014f565b604051635e0d443f60e01b8152600f83810b600483015282900b6024820152670de0b6b3a764000060448201819052906001600160a01b03851690635e0d443f90606401602060405180830381865afa158015610233573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102579190610418565b98975050505050505050565b6000808390506000816001600160a01b031663ed52976a6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102cd9190610418565b905060005b816001600160801b0316816001600160801b031610156103825760405163c661065760e01b81526001600160801b03821660048201526001600160a01b03808716919085169063c661065790602401602060405180830381865afa15801561033e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061036291906103f4565b6001600160a01b03160361037a57925061038b915050565b6001016102d2565b50600019925050505b92915050565b6001600160a01b03811681146103a657600080fd5b50565b6000806000606084860312156103be57600080fd5b83356103c981610391565b925060208401356103d981610391565b915060408401356103e981610391565b809150509250925092565b60006020828403121561040657600080fd5b815161041181610391565b9392505050565b60006020828403121561042a57600080fd5b505191905056fea26469706673582212200b703e80797e52ad9b584b6b1395e4404ae467c5d8178afe9f9adfb992072fd764736f6c63430008170033","sourceMap":"407:1195:20:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;443:33;;;;;-1:-1:-1;;;;;443:33:20;;;;;;-1:-1:-1;;;;;201:32:22;;;183:51;;171:2;156:18;443:33:20;;;;;;;;598:642;;;;;;:::i;:::-;;:::i;:::-;;;1061:25:22;;;1049:2;1034:18;598:642:20;915:177:22;598:642:20;725:13;765:12;;:44;;-1:-1:-1;;;765:44:20;;-1:-1:-1;;;;;201:32:22;;;765:44:20;;;183:51:22;725:13:20;;765:12;;:35;;156:18:22;;765:44:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;750:59;-1:-1:-1;;;;;;827:18:20;;819:58;;;;-1:-1:-1;;;819:58:20;;1763:2:22;819:58:20;;;1745:21:22;1802:2;1782:18;;;1775:30;1841:29;1821:18;;;1814:57;1888:18;;819:58:20;;;;;;;;;888:17;908:27;923:4;929:5;908:14;:27::i;:::-;888:47;;945:22;970:32;985:4;991:10;970:14;:32::i;:::-;945:57;;1021:10;:16;;-1:-1:-1;;1021:16:20;;:41;;;;;1041:15;:21;;-1:-1:-1;;1041:21:20;;1021:41;1013:75;;;;-1:-1:-1;;;1013:75:20;;2119:2:22;1013:75:20;;;2101:21:22;2158:2;2138:18;;;2131:30;-1:-1:-1;;;2177:18:22;;;2170:51;2238:18;;1013:75:20;1917:345:22;1013:75:20;1177:56;;-1:-1:-1;;;1177:56:20;;2494:2:22;2483:22;;;1177:56:20;;;2465:41:22;2542:22;;;2522:18;;;2515:50;1112:4:20;2581:18:22;;;2574:34;;;1112:4:20;-1:-1:-1;;;;;1177:23:20;;;;;2438:18:22;;1177:56:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1170:63;598:642;-1:-1:-1;;;;;;;;598:642:20:o;1243:357::-;1319:6;1333:20;1367:4;1333:39;;1378:14;1395:9;-1:-1:-1;;;;;1395:17:20;;:19;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1378:36;;1425:9;1420:136;1452:6;-1:-1:-1;;;;;1440:19:20;:1;-1:-1:-1;;;;;1440:19:20;;1420:136;;;1480:18;;-1:-1:-1;;;1480:18:20;;-1:-1:-1;;;;;2972:47:22;;1480:18:20;;;2954:66:22;-1:-1:-1;;;;;1480:27:20;;;;:15;;;;;;2927:18:22;;1480::20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1480:27:20;;1476:74;;1537:1;-1:-1:-1;1523:16:20;;-1:-1:-1;;1523:16:20;1476:74;1461:3;;1420:136;;;;-1:-1:-1;;1561:9:20;;;;1243:357;;;;;:::o;245:131:22:-;-1:-1:-1;;;;;320:31:22;;310:42;;300:70;;366:1;363;356:12;300:70;245:131;:::o;381:529::-;458:6;466;474;527:2;515:9;506:7;502:23;498:32;495:52;;;543:1;540;533:12;495:52;582:9;569:23;601:31;626:5;601:31;:::i;:::-;651:5;-1:-1:-1;708:2:22;693:18;;680:32;721:33;680:32;721:33;:::i;:::-;773:7;-1:-1:-1;832:2:22;817:18;;804:32;845:33;804:32;845:33;:::i;:::-;897:7;887:17;;;381:529;;;;;:::o;1305:251::-;1375:6;1428:2;1416:9;1407:7;1403:23;1399:32;1396:52;;;1444:1;1441;1434:12;1396:52;1476:9;1470:16;1495:31;1520:5;1495:31;:::i;:::-;1545:5;1305:251;-1:-1:-1;;;1305:251:22:o;2619:184::-;2689:6;2742:2;2730:9;2721:7;2717:23;2713:32;2710:52;;;2758:1;2755;2748:12;2710:52;-1:-1:-1;2781:16:22;;2619:184;-1:-1:-1;2619:184:22:o","linkReferences":{}},"methodIdentifiers":{"getSpotPrice(address,address,address)":"75075ad5","metaRegistry()":"44693a4b"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_metaRegistryAddress\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"quoteToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"lpToken\",\"type\":\"address\"}],\"name\":\"getSpotPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"metaRegistry\",\"outputs\":[{\"internalType\":\"contract IMetaRegistry\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/spotprices.sol\":\"CurveSpotPriceOracle\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/spotprices.sol\":{\"keccak256\":\"0xda8b9f08a93be4346f71cb732245f47118268e443fa98f50a6b5b78d9ea0355e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7e974b4fc97530d88d9c9645ab0f8de0275acd3b4b668bd159848a4f2c99ac75\",\"dweb:/ipfs/Qmd9MX5L2sU3jDqL3SJcbe8Rye29Qt7bhocHaUCXmjr4B6\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_metaRegistryAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"quoteToken","type":"address"},{"internalType":"address","name":"lpToken","type":"address"}],"stateMutability":"view","type":"function","name":"getSpotPrice","outputs":[{"internalType":"uint256","name":"price","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"metaRegistry","outputs":[{"internalType":"contract IMetaRegistry","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/spotprices.sol":"CurveSpotPriceOracle"},"libraries":{}},"sources":{"src/spotprices.sol":{"keccak256":"0xda8b9f08a93be4346f71cb732245f47118268e443fa98f50a6b5b78d9ea0355e","urls":["bzz-raw://7e974b4fc97530d88d9c9645ab0f8de0275acd3b4b668bd159848a4f2c99ac75","dweb:/ipfs/Qmd9MX5L2sU3jDqL3SJcbe8Rye29Qt7bhocHaUCXmjr4B6"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/spotprices.sol","id":44733,"exportedSymbols":{"CurveSpotPriceOracle":[44732],"ICurvePool":[44593],"IMetaRegistry":[44569]},"nodeType":"SourceUnit","src":"32:1571:20","nodes":[{"id":44561,"nodeType":"PragmaDirective","src":"32:24:20","nodes":[],"literals":["solidity","^","0.8",".23"]},{"id":44569,"nodeType":"ContractDefinition","src":"58:114:20","nodes":[{"id":44568,"nodeType":"FunctionDefinition","src":"88:82:20","nodes":[],"functionSelector":"bdf475c3","implemented":false,"kind":"function","modifiers":[],"name":"get_pool_from_lp_token","nameLocation":"97:22:20","parameters":{"id":44564,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44563,"mutability":"mutable","name":"lp_token","nameLocation":"128:8:20","nodeType":"VariableDeclaration","scope":44568,"src":"120:16:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44562,"name":"address","nodeType":"ElementaryTypeName","src":"120:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"119:18:20"},"returnParameters":{"id":44567,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44566,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":44568,"src":"161:7:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44565,"name":"address","nodeType":"ElementaryTypeName","src":"161:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"160:9:20"},"scope":44569,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IMetaRegistry","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[44569],"name":"IMetaRegistry","nameLocation":"68:13:20","scope":44733,"usedErrors":[],"usedEvents":[]},{"id":44593,"nodeType":"ContractDefinition","src":"174:231:20","nodes":[{"id":44580,"nodeType":"FunctionDefinition","src":"201:83:20","nodes":[],"functionSelector":"5e0d443f","implemented":false,"kind":"function","modifiers":[],"name":"get_dy","nameLocation":"210:6:20","parameters":{"id":44576,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44571,"mutability":"mutable","name":"i","nameLocation":"224:1:20","nodeType":"VariableDeclaration","scope":44580,"src":"217:8:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":44570,"name":"int128","nodeType":"ElementaryTypeName","src":"217:6:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":44573,"mutability":"mutable","name":"j","nameLocation":"234:1:20","nodeType":"VariableDeclaration","scope":44580,"src":"227:8:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":44572,"name":"int128","nodeType":"ElementaryTypeName","src":"227:6:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":44575,"mutability":"mutable","name":"dx","nameLocation":"245:2:20","nodeType":"VariableDeclaration","scope":44580,"src":"237:10:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44574,"name":"uint256","nodeType":"ElementaryTypeName","src":"237:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"216:32:20"},"returnParameters":{"id":44579,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44578,"mutability":"mutable","name":"dy","nameLocation":"280:2:20","nodeType":"VariableDeclaration","scope":44580,"src":"272:10:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44577,"name":"uint256","nodeType":"ElementaryTypeName","src":"272:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"271:12:20"},"scope":44593,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":44587,"nodeType":"FunctionDefinition","src":"289:58:20","nodes":[],"functionSelector":"c6610657","implemented":false,"kind":"function","modifiers":[],"name":"coins","nameLocation":"298:5:20","parameters":{"id":44583,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44582,"mutability":"mutable","name":"i","nameLocation":"312:1:20","nodeType":"VariableDeclaration","scope":44587,"src":"304:9:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44581,"name":"uint256","nodeType":"ElementaryTypeName","src":"304:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"303:11:20"},"returnParameters":{"id":44586,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44585,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":44587,"src":"338:7:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44584,"name":"address","nodeType":"ElementaryTypeName","src":"338:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"337:9:20"},"scope":44593,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":44592,"nodeType":"FunctionDefinition","src":"352:51:20","nodes":[],"functionSelector":"ed52976a","implemented":false,"kind":"function","modifiers":[],"name":"n_coins","nameLocation":"361:7:20","parameters":{"id":44588,"nodeType":"ParameterList","parameters":[],"src":"368:2:20"},"returnParameters":{"id":44591,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44590,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":44592,"src":"394:7:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44589,"name":"uint256","nodeType":"ElementaryTypeName","src":"394:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"393:9:20"},"scope":44593,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"ICurvePool","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[44593],"name":"ICurvePool","nameLocation":"184:10:20","scope":44733,"usedErrors":[],"usedEvents":[]},{"id":44732,"nodeType":"ContractDefinition","src":"407:1195:20","nodes":[{"id":44596,"nodeType":"VariableDeclaration","src":"443:33:20","nodes":[],"constant":false,"functionSelector":"44693a4b","mutability":"mutable","name":"metaRegistry","nameLocation":"464:12:20","scope":44732,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IMetaRegistry_$44569","typeString":"contract IMetaRegistry"},"typeName":{"id":44595,"nodeType":"UserDefinedTypeName","pathNode":{"id":44594,"name":"IMetaRegistry","nameLocations":["443:13:20"],"nodeType":"IdentifierPath","referencedDeclaration":44569,"src":"443:13:20"},"referencedDeclaration":44569,"src":"443:13:20","typeDescriptions":{"typeIdentifier":"t_contract$_IMetaRegistry_$44569","typeString":"contract IMetaRegistry"}},"visibility":"public"},{"id":44608,"nodeType":"FunctionDefinition","src":"483:109:20","nodes":[],"body":{"id":44607,"nodeType":"Block","src":"525:67:20","nodes":[],"statements":[{"expression":{"id":44605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":44601,"name":"metaRegistry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44596,"src":"535:12:20","typeDescriptions":{"typeIdentifier":"t_contract$_IMetaRegistry_$44569","typeString":"contract IMetaRegistry"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":44603,"name":"_metaRegistryAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44598,"src":"564:20:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":44602,"name":"IMetaRegistry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44569,"src":"550:13:20","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IMetaRegistry_$44569_$","typeString":"type(contract IMetaRegistry)"}},"id":44604,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"550:35:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IMetaRegistry_$44569","typeString":"contract IMetaRegistry"}},"src":"535:50:20","typeDescriptions":{"typeIdentifier":"t_contract$_IMetaRegistry_$44569","typeString":"contract IMetaRegistry"}},"id":44606,"nodeType":"ExpressionStatement","src":"535:50:20"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":44599,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44598,"mutability":"mutable","name":"_metaRegistryAddress","nameLocation":"503:20:20","nodeType":"VariableDeclaration","scope":44608,"src":"495:28:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44597,"name":"address","nodeType":"ElementaryTypeName","src":"495:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"494:30:20"},"returnParameters":{"id":44600,"nodeType":"ParameterList","parameters":[],"src":"525:0:20"},"scope":44732,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":44677,"nodeType":"FunctionDefinition","src":"598:642:20","nodes":[],"body":{"id":44676,"nodeType":"Block","src":"740:500:20","nodes":[],"statements":[{"assignments":[44620],"declarations":[{"constant":false,"id":44620,"mutability":"mutable","name":"pool","nameLocation":"758:4:20","nodeType":"VariableDeclaration","scope":44676,"src":"750:12:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44619,"name":"address","nodeType":"ElementaryTypeName","src":"750:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":44625,"initialValue":{"arguments":[{"id":44623,"name":"lpToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44614,"src":"801:7:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":44621,"name":"metaRegistry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44596,"src":"765:12:20","typeDescriptions":{"typeIdentifier":"t_contract$_IMetaRegistry_$44569","typeString":"contract IMetaRegistry"}},"id":44622,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"778:22:20","memberName":"get_pool_from_lp_token","nodeType":"MemberAccess","referencedDeclaration":44568,"src":"765:35:20","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_address_$","typeString":"function (address) view external returns (address)"}},"id":44624,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"765:44:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"750:59:20"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":44632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44627,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44620,"src":"827:4:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":44630,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"843:1:20","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":44629,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"835:7:20","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":44628,"name":"address","nodeType":"ElementaryTypeName","src":"835:7:20","typeDescriptions":{}}},"id":44631,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"835:10:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"827:18:20","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"506f6f6c206e6f7420666f756e6420666f72204c5020746f6b656e","id":44633,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"847:29:20","typeDescriptions":{"typeIdentifier":"t_stringliteral_694e668c7ad046fa101777ef06b5f58cbfb8caa98ee428f5c817428a99b64476","typeString":"literal_string \"Pool not found for LP token\""},"value":"Pool not found for LP token"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_694e668c7ad046fa101777ef06b5f58cbfb8caa98ee428f5c817428a99b64476","typeString":"literal_string \"Pool not found for LP token\""}],"id":44626,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"819:7:20","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":44634,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"819:58:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44635,"nodeType":"ExpressionStatement","src":"819:58:20"},{"assignments":[44637],"declarations":[{"constant":false,"id":44637,"mutability":"mutable","name":"tokenIndex","nameLocation":"895:10:20","nodeType":"VariableDeclaration","scope":44676,"src":"888:17:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":44636,"name":"int128","nodeType":"ElementaryTypeName","src":"888:6:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":44642,"initialValue":{"arguments":[{"id":44639,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44620,"src":"923:4:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44640,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44610,"src":"929:5:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":44638,"name":"findTokenIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44731,"src":"908:14:20","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$returns$_t_int128_$","typeString":"function (address,address) view returns (int128)"}},"id":44641,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"908:27:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"VariableDeclarationStatement","src":"888:47:20"},{"assignments":[44644],"declarations":[{"constant":false,"id":44644,"mutability":"mutable","name":"quoteTokenIndex","nameLocation":"952:15:20","nodeType":"VariableDeclaration","scope":44676,"src":"945:22:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":44643,"name":"int128","nodeType":"ElementaryTypeName","src":"945:6:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":44649,"initialValue":{"arguments":[{"id":44646,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44620,"src":"985:4:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":44647,"name":"quoteToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44612,"src":"991:10:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":44645,"name":"findTokenIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44731,"src":"970:14:20","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$returns$_t_int128_$","typeString":"function (address,address) view returns (int128)"}},"id":44648,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"970:32:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"VariableDeclarationStatement","src":"945:57:20"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":44659,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":44654,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44651,"name":"tokenIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44637,"src":"1021:10:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":44653,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"1035:2:20","subExpression":{"hexValue":"31","id":44652,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1036:1:20","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"typeDescriptions":{"typeIdentifier":"t_rational_minus_1_by_1","typeString":"int_const -1"}},"src":"1021:16:20","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":44658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44655,"name":"quoteTokenIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44644,"src":"1041:15:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":44657,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"1060:2:20","subExpression":{"hexValue":"31","id":44656,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1061:1:20","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"typeDescriptions":{"typeIdentifier":"t_rational_minus_1_by_1","typeString":"int_const -1"}},"src":"1041:21:20","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1021:41:20","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"546f6b656e20696e646578206e6f7420666f756e64","id":44660,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1064:23:20","typeDescriptions":{"typeIdentifier":"t_stringliteral_d575ff58198005c4d8ea6d95d5986468c6ba03caa3e71e0676f7534f69b83627","typeString":"literal_string \"Token index not found\""},"value":"Token index not found"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_d575ff58198005c4d8ea6d95d5986468c6ba03caa3e71e0676f7534f69b83627","typeString":"literal_string \"Token index not found\""}],"id":44650,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1013:7:20","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":44661,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1013:75:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44662,"nodeType":"ExpressionStatement","src":"1013:75:20"},{"assignments":[44664],"declarations":[{"constant":false,"id":44664,"mutability":"mutable","name":"dx","nameLocation":"1107:2:20","nodeType":"VariableDeclaration","scope":44676,"src":"1099:10:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44663,"name":"uint256","nodeType":"ElementaryTypeName","src":"1099:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44666,"initialValue":{"hexValue":"31653138","id":44665,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1112:4:20","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"nodeType":"VariableDeclarationStatement","src":"1099:17:20"},{"expression":{"arguments":[{"id":44671,"name":"tokenIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44637,"src":"1201:10:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},{"id":44672,"name":"quoteTokenIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44644,"src":"1213:15:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},{"id":44673,"name":"dx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44664,"src":"1230:2:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"},{"typeIdentifier":"t_int128","typeString":"int128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":44668,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44620,"src":"1188:4:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":44667,"name":"ICurvePool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44593,"src":"1177:10:20","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ICurvePool_$44593_$","typeString":"type(contract ICurvePool)"}},"id":44669,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1177:16:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$44593","typeString":"contract ICurvePool"}},"id":44670,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1194:6:20","memberName":"get_dy","nodeType":"MemberAccess","referencedDeclaration":44580,"src":"1177:23:20","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_int128_$_t_int128_$_t_uint256_$returns$_t_uint256_$","typeString":"function (int128,int128,uint256) view external returns (uint256)"}},"id":44674,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1177:56:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":44618,"id":44675,"nodeType":"Return","src":"1170:63:20"}]},"functionSelector":"75075ad5","implemented":true,"kind":"function","modifiers":[],"name":"getSpotPrice","nameLocation":"607:12:20","parameters":{"id":44615,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44610,"mutability":"mutable","name":"token","nameLocation":"637:5:20","nodeType":"VariableDeclaration","scope":44677,"src":"629:13:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44609,"name":"address","nodeType":"ElementaryTypeName","src":"629:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44612,"mutability":"mutable","name":"quoteToken","nameLocation":"660:10:20","nodeType":"VariableDeclaration","scope":44677,"src":"652:18:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44611,"name":"address","nodeType":"ElementaryTypeName","src":"652:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44614,"mutability":"mutable","name":"lpToken","nameLocation":"688:7:20","nodeType":"VariableDeclaration","scope":44677,"src":"680:15:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44613,"name":"address","nodeType":"ElementaryTypeName","src":"680:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"619:82:20"},"returnParameters":{"id":44618,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44617,"mutability":"mutable","name":"price","nameLocation":"733:5:20","nodeType":"VariableDeclaration","scope":44677,"src":"725:13:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44616,"name":"uint256","nodeType":"ElementaryTypeName","src":"725:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"724:15:20"},"scope":44732,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":44731,"nodeType":"FunctionDefinition","src":"1243:357:20","nodes":[],"body":{"id":44730,"nodeType":"Block","src":"1327:273:20","nodes":[],"statements":[{"assignments":[44688],"declarations":[{"constant":false,"id":44688,"mutability":"mutable","name":"curvePool","nameLocation":"1344:9:20","nodeType":"VariableDeclaration","scope":44730,"src":"1333:20:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$44593","typeString":"contract ICurvePool"},"typeName":{"id":44687,"nodeType":"UserDefinedTypeName","pathNode":{"id":44686,"name":"ICurvePool","nameLocations":["1333:10:20"],"nodeType":"IdentifierPath","referencedDeclaration":44593,"src":"1333:10:20"},"referencedDeclaration":44593,"src":"1333:10:20","typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$44593","typeString":"contract ICurvePool"}},"visibility":"internal"}],"id":44692,"initialValue":{"arguments":[{"id":44690,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44679,"src":"1367:4:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":44689,"name":"ICurvePool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44593,"src":"1356:10:20","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ICurvePool_$44593_$","typeString":"type(contract ICurvePool)"}},"id":44691,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1356:16:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$44593","typeString":"contract ICurvePool"}},"nodeType":"VariableDeclarationStatement","src":"1333:39:20"},{"assignments":[44694],"declarations":[{"constant":false,"id":44694,"mutability":"mutable","name":"nCoins","nameLocation":"1386:6:20","nodeType":"VariableDeclaration","scope":44730,"src":"1378:14:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":44693,"name":"uint256","nodeType":"ElementaryTypeName","src":"1378:7:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":44698,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":44695,"name":"curvePool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44688,"src":"1395:9:20","typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$44593","typeString":"contract ICurvePool"}},"id":44696,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1405:7:20","memberName":"n_coins","nodeType":"MemberAccess","referencedDeclaration":44592,"src":"1395:17:20","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":44697,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1395:19:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1378:36:20"},{"body":{"id":44725,"nodeType":"Block","src":"1466:90:20","statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":44717,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":44714,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44700,"src":"1496:1:20","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":44712,"name":"curvePool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44688,"src":"1480:9:20","typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$44593","typeString":"contract ICurvePool"}},"id":44713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1490:5:20","memberName":"coins","nodeType":"MemberAccess","referencedDeclaration":44587,"src":"1480:15:20","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":44715,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1480:18:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":44716,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44681,"src":"1502:5:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1480:27:20","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44724,"nodeType":"IfStatement","src":"1476:74:20","trueBody":{"id":44723,"nodeType":"Block","src":"1509:41:20","statements":[{"expression":{"arguments":[{"id":44720,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44700,"src":"1537:1:20","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":44719,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1530:6:20","typeDescriptions":{"typeIdentifier":"t_type$_t_int128_$","typeString":"type(int128)"},"typeName":{"id":44718,"name":"int128","nodeType":"ElementaryTypeName","src":"1530:6:20","typeDescriptions":{}}},"id":44721,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1530:9:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"functionReturnParameters":44685,"id":44722,"nodeType":"Return","src":"1523:16:20"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":44708,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44703,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44700,"src":"1440:1:20","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"arguments":[{"id":44706,"name":"nCoins","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44694,"src":"1452:6:20","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":44705,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1444:7:20","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":44704,"name":"uint128","nodeType":"ElementaryTypeName","src":"1444:7:20","typeDescriptions":{}}},"id":44707,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1444:15:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"1440:19:20","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44726,"initializationExpression":{"assignments":[44700],"declarations":[{"constant":false,"id":44700,"mutability":"mutable","name":"i","nameLocation":"1433:1:20","nodeType":"VariableDeclaration","scope":44726,"src":"1425:9:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":44699,"name":"uint128","nodeType":"ElementaryTypeName","src":"1425:7:20","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":44702,"initialValue":{"hexValue":"30","id":44701,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1437:1:20","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1425:13:20"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":44710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1461:3:20","subExpression":{"id":44709,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44700,"src":"1461:1:20","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":44711,"nodeType":"ExpressionStatement","src":"1461:3:20"},"nodeType":"ForStatement","src":"1420:136:20"},{"expression":{"id":44728,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"1568:2:20","subExpression":{"hexValue":"31","id":44727,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1569:1:20","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"typeDescriptions":{"typeIdentifier":"t_rational_minus_1_by_1","typeString":"int_const -1"}},"functionReturnParameters":44685,"id":44729,"nodeType":"Return","src":"1561:9:20"}]},"implemented":true,"kind":"function","modifiers":[],"name":"findTokenIndex","nameLocation":"1252:14:20","parameters":{"id":44682,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44679,"mutability":"mutable","name":"pool","nameLocation":"1275:4:20","nodeType":"VariableDeclaration","scope":44731,"src":"1267:12:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44678,"name":"address","nodeType":"ElementaryTypeName","src":"1267:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":44681,"mutability":"mutable","name":"token","nameLocation":"1289:5:20","nodeType":"VariableDeclaration","scope":44731,"src":"1281:13:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":44680,"name":"address","nodeType":"ElementaryTypeName","src":"1281:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1266:29:20"},"returnParameters":{"id":44685,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44684,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":44731,"src":"1319:6:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":44683,"name":"int128","nodeType":"ElementaryTypeName","src":"1319:6:20","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"src":"1318:8:20"},"scope":44732,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"CurveSpotPriceOracle","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[44732],"name":"CurveSpotPriceOracle","nameLocation":"416:20:20","scope":44733,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":20}